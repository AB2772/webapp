<html>
<head>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<title>Activities Portal Login/Register</title>
<script>
	function storeUser()
	{
		alert("User account created, please login to access the Activity Portal");
		var userObject = {};
		userObject.username = document.getElementById('userNameRegister').value;
		userObject.password = document.getElementById('userPassRegister').value;

		localStorage[userObject.username] = JSON.stringify(userObject);
		localStorage.setItem("currentUser",JSON.stringify(userObject[i]));
	}
</script>
<script>
	function storeProvider()
	{
		alert("Provider account created, please login to access the Provider Portal");
		var providerObject = {};
		providerObject.provider = document.getElementById('providerNameRegister').value;
		providerObject.password = document.getElementById('providerPassRegister').value;

		localStorage[providerObject.provider] = JSON.stringify(providerObject);
		localStorage.setItem("currentUser",JSON.stringify(providerObject[i]));
	}
</script>
<script>
	function loginUser()
	{
		var username = document.getElementById('userNameLogin').value;
		if(localStorage[username] === undefined)
		{
			alert("Username not found.")
			return;
		}
		else
		{
			var userObject = JSON.parse(localStorage[username]);
			var password = document.getElementById('userPassLogin').value;
			if(password === userObject.password)
			{
				window.location.href="activities.html";
			}
			else
			{
				alert("Password is incorrect.")
			}
		}
	}
</script>
<script>
	function loginProvider()
	{
		var username = document.getElementById('providerNameLogin').value;
		if(localStorage[username] === undefined)
		{
			alert("Provider name not found.")
			return;
		}
		else
		{
			var providerObject = JSON.parse(localStorage[username]);
			var password = document.getElementById('providerPassLogin').value;
			if(password === providerObject.password)
			{
				window.location.href="activities.html";
			}
			else
			{
				alert("Password is incorrect.")
				return;
			}
		}
	}
</script>
<script>
	function checkLogin()
	{
		if(localStorage.currentUser !== undefined)
		{
			userObject=JSON.parse(localStorage)[localStorage.userNameLogin];
		}
	}
</script>
</head>
<body>
<div class="row">
  <div class="column" id="userColumn">
  	<h1>User Login</h1>
	<form>
		<input type="text" id="userNameLogin" placeholder="Username" /><br/>
		<input type="password" id="userPassLogin" placeholder="Password" />
		<input type="reset" value="Login" onclick="loginUser();"/>
	</form>
  	<h1>User Register</h1>
	<form>
		<input type="text" id="userNameRegister" placeholder="Username" /><br/>
		<input type="password" id="userPassRegister" placeholder="Password" />
		<input type="submit" value="Register" onclick="storeUser();"/>
	</form>
  </div>
  <div class="column" id="providerColumn">
  	<h1>Provider Login</h1>
	<form>
		<input type="text" id="providerNameLogin" placeholder="Provider" /><br/>
		<input type="password" id="providerPassLogin" placeholder="Password" />
		<input type="reset" value="Login" onclick="loginProvider();"/>
	</form>
  	<h1>Provider Register</h1>
	<form>
		<input type="text" id="providerNameRegister" placeholder="Provider" /><br/>
		<input type="password" id="providerPassRegister" placeholder="Password" />
		<input type="submit" value="Register" onclick="storeProvider();"/>
	</form>
  </div>
</div>
</body>
</html>
